<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LUTai - AI Color Grading</title>
    
    <link rel="icon" type="image/png" href="images/favicon.png">

    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="styles/style.css">

    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body class="min-h-screen bg-black text-white font-sans selection:bg-red-600 selection:text-white pb-12">

    <nav class="p-4 md:p-6 flex flex-col md:flex-row justify-between items-center bg-black sticky top-0 z-20 bg-opacity-80 backdrop-blur-xl border-b border-zinc-900">
        <div class="flex items-center gap-3 mb-4 md:mb-0">
            <div class="w-10 h-10 bg-gradient-to-br from-red-600 to-red-900 rounded-full flex items-center justify-center shadow-[0_0_15px_rgba(220,38,38,0.5)]">
                <div class="w-4 h-4 bg-black rounded-full"></div>
            </div>
            <h1 class="text-3xl font-bold tracking-tighter">LUT<span class="text-red-600">ai</span></h1>
        </div>
        
        <div class="flex items-center gap-4">
            <button id="toggle-key-btn" class="text-xs font-mono px-4 py-2 rounded-full border transition-colors flex items-center gap-2 border-red-800 text-red-500 bg-red-900/10 animate-pulse">
                <i data-lucide="key" width="12" height="12"></i>
                <span id="key-status-text">MISSING API KEY</span>
            </button>
            
            <div class="hidden md:flex items-center gap-6 text-xs font-mono text-zinc-500 bg-zinc-900/50 px-4 py-2 rounded-full border border-zinc-800">
                <span class="flex items-center gap-2"><i data-lucide="monitor" width="12" height="12"></i> V3.2 PRO</span>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 md:p-8 grid grid-cols-1 lg:grid-cols-12 gap-8 md:gap-12 mt-4">
        
        <div id="api-key-section" class="lg:col-span-12 bg-zinc-900/50 border border-zinc-800 p-6 rounded-2xl flex flex-col md:flex-row gap-4 items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="p-3 bg-red-900/20 rounded-full text-red-500"><i data-lucide="alert-circle" width="20" height="20"></i></div>
                <div>
                    <h3 class="font-bold text-sm">Gemini API Key Required</h3>
                    <p class="text-xs text-zinc-400">Your key is used locally to fetch parameters. It is not saved to any server.</p>
                </div>
            </div>
            <div class="flex w-full md:w-auto gap-2">
                <input type="password" id="api-key-input" placeholder="Paste AI Studio Key here..." class="bg-black border border-zinc-700 rounded-lg px-4 py-2 text-sm w-full md:w-64 focus:border-red-600 focus:outline-none">
                <button id="save-key-btn" disabled class="bg-white text-black px-4 py-2 rounded-lg text-xs font-bold hover:bg-zinc-200 disabled:opacity-50 disabled:cursor-not-allowed">SAVE</button>
            </div>
        </div>

        <div class="lg:col-span-5 flex flex-col gap-6">
            
            <div class="bg-zinc-900/30 p-6 rounded-[2rem] border border-zinc-800 backdrop-blur-sm">
                <label class="text-sm text-zinc-400 font-bold mb-3 flex items-center gap-2 ml-1">
                    <i data-lucide="activity" class="text-red-500" width="16" height="16"></i>
                    AI PROMPT
                </label>
                <div class="relative group">
                    <textarea id="prompt-input" disabled placeholder="Please enter API Key above to start..." class="w-full bg-zinc-950 border border-zinc-800 text-white p-5 h-40 focus:outline-none focus:border-red-600 transition-all resize-none font-medium text-lg rounded-[1.5rem] shadow-inner disabled:opacity-50 disabled:cursor-not-allowed"></textarea>
                    <button id="generate-btn" disabled class="absolute bottom-4 right-4 bg-white text-black hover:bg-red-600 hover:text-white px-5 py-2.5 rounded-full text-xs font-bold uppercase tracking-wider transition-all disabled:opacity-50 flex items-center gap-2 shadow-lg active:scale-95 disabled:bg-zinc-700 disabled:text-zinc-500">
                        <span id="generate-icon"><i data-lucide="zap" width="14" height="14" fill="currentColor"></i></span>
                        <span id="generate-text">Generate</span>
                    </button>
                </div>
                <div id="error-message" class="hidden mt-4 text-xs text-red-500 bg-red-900/10 p-3 rounded-lg border border-red-900/50"></div>
            </div>

            <div class="bg-zinc-900/30 rounded-[2rem] border border-zinc-800 flex flex-col h-[400px] overflow-hidden backdrop-blur-sm relative shadow-xl">
                <div class="p-6 pb-4 border-b border-zinc-800/50 bg-zinc-900/50 backdrop-blur-md z-10 flex justify-between items-center">
                    <label class="text-sm text-zinc-400 font-bold flex items-center gap-2">
                        <i data-lucide="sliders" class="text-red-500" width="16" height="16"></i>
                        GENERATED PARAMETERS
                    </label>
                    <div class="text-[10px] text-zinc-600 border border-zinc-800 px-2 py-0.5 rounded bg-black/50">READ ONLY</div>
                </div>

                <div class="overflow-y-auto custom-scrollbar p-6 pt-4 flex-1">
                    <div id="params-container" class="grid grid-cols-2 gap-3">
                        </div>
                </div>
            </div>
            
            <button id="download-btn" disabled class="w-full bg-red-600 text-white py-5 rounded-full font-bold text-lg uppercase tracking-widest hover:bg-white hover:text-black transition-all transform hover:-translate-y-1 shadow-[0_10px_30px_-10px_rgba(220,38,38,0.4)] flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:shadow-none">
                <i data-lucide="download" width="22" height="22"></i>
                Download .CUBE
            </button>

        </div>

        <div class="lg:col-span-7 flex flex-col gap-6">
            <div class="flex justify-between items-center px-2">
                <label class="text-sm text-zinc-400 font-bold flex items-center gap-2">
                    <i data-lucide="eye" class="text-red-500" width="16" height="16"></i>
                    LIVE PREVIEW
                </label>
                <div class="relative overflow-hidden inline-block">
                    <button class="text-xs font-bold text-zinc-300 bg-zinc-900 border border-zinc-700 hover:border-white hover:text-white px-4 py-2 rounded-full transition-colors flex items-center gap-2">
                        <i data-lucide="upload" width="14" height="14"></i>
                        UPLOAD IMAGE
                    </button>
                    <input type="file" id="image-upload" accept="image/*" class="absolute inset-0 opacity-0 cursor-pointer">
                </div>
            </div>

            <div class="w-full bg-zinc-900 rounded-[2.5rem] border border-zinc-800 relative overflow-hidden group shadow-2xl min-h-[300px] flex items-center justify-center">
                <canvas id="preview-canvas" class="max-w-full max-h-[600px] w-auto h-auto object-contain rounded-[2rem]"></canvas>
                
                <div class="absolute top-6 left-6 px-3 py-1 bg-black/50 backdrop-blur-md rounded-full border border-white/10 text-[10px] font-mono text-white opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none">
                    RENDER_ENGINE: CDL_V4
                </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="p-5 bg-zinc-900/50 rounded-3xl border border-zinc-800/50 flex gap-4 items-start">
                    <div class="w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center shrink-0 font-mono text-xs text-white">01</div>
                    <div>
                        <h3 class="text-sm font-bold text-white mb-1">Enter API Key</h3>
                        <p class="text-xs text-zinc-500 leading-relaxed">This app now requires a Gemini API Key to access the advanced color reasoning engine.</p>
                    </div>
                </div>
                <div class="p-5 bg-zinc-900/50 rounded-3xl border border-zinc-800/50 flex gap-4 items-start">
                    <div class="w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center shrink-0 font-mono text-xs text-white">02</div>
                    <div>
                        <h3 class="text-sm font-bold text-white mb-1">Advanced Color</h3>
                        <p class="text-xs text-zinc-500 leading-relaxed">Now supports ASC-CDL and Split Toning for cinematic fidelity.</p>
                    </div>
                </div>
            </div>

        </div>

    </main>

    <script src="scripts/script.js"></script>
</body>
</html>
